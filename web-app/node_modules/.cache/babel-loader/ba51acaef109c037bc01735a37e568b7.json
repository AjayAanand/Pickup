{"ast":null,"code":"import{FETCH_LANGUAGE,FETCH_LANGUAGE_SUCCESS,FETCH_LANGUAGE_FAILED,EDIT_LANGUAGE}from\"../store/types\";import{firebase}from'../config/configureFirebase';import{onValue,set,push,remove}from\"firebase/database\";export var fetchLanguages=function fetchLanguages(){return function(dispatch){var languagesRef=firebase.languagesRef;dispatch({type:FETCH_LANGUAGE,payload:null});onValue(languagesRef,function(snapshot){if(snapshot.val()){var data=snapshot.val();var defLang=null;var arr=Object.keys(data).map(function(i){data[i].id=i;if(data[i].default){defLang=data[i].keyValuePairs;}return data[i];});dispatch({type:FETCH_LANGUAGE_SUCCESS,payload:{defaultLanguage:defLang,langlist:arr}});}else{dispatch({type:FETCH_LANGUAGE_FAILED,payload:\"No Languages available.\"});}});};};export var editLanguage=function editLanguage(lang,method){return function(dispatch){var languagesRef=firebase.languagesRef,languagesEditRef=firebase.languagesEditRef;dispatch({type:EDIT_LANGUAGE,payload:{lang:lang,method:method}});if(method==='Add'){push(languagesRef,lang);}else if(method==='Delete'){remove(languagesEditRef(lang.id));}else{set(languagesEditRef(lang.id),lang);}};};","map":{"version":3,"names":["FETCH_LANGUAGE","FETCH_LANGUAGE_SUCCESS","FETCH_LANGUAGE_FAILED","EDIT_LANGUAGE","firebase","onValue","set","push","remove","fetchLanguages","dispatch","languagesRef","type","payload","snapshot","val","data","defLang","arr","Object","keys","map","i","id","default","keyValuePairs","defaultLanguage","langlist","editLanguage","lang","method","languagesEditRef"],"sources":["/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/common/src/actions/languageactions.js"],"sourcesContent":["import {\r\n    FETCH_LANGUAGE,\r\n    FETCH_LANGUAGE_SUCCESS,\r\n    FETCH_LANGUAGE_FAILED,\r\n    EDIT_LANGUAGE\r\n} from \"../store/types\";\r\nimport { firebase } from '../config/configureFirebase';\r\nimport { onValue, set, push, remove } from \"firebase/database\";\r\n\r\nexport const fetchLanguages = () => (dispatch) => {\r\n\r\n    const {\r\n        languagesRef\r\n    } = firebase;\r\n\r\n    dispatch({\r\n        type: FETCH_LANGUAGE,\r\n        payload: null\r\n    });\r\n    onValue(languagesRef, snapshot => {\r\n        if (snapshot.val()) {\r\n            const data = snapshot.val();\r\n            let defLang = null;\r\n            const arr = Object.keys(data).map(i => {\r\n                data[i].id = i;\r\n                if(data[i].default){\r\n                    defLang = data[i].keyValuePairs;\r\n                }\r\n                return data[i]\r\n            });\r\n            dispatch({\r\n                type: FETCH_LANGUAGE_SUCCESS,\r\n                payload: {\r\n                    defaultLanguage: defLang,\r\n                    langlist: arr\r\n                }\r\n            });\r\n        } else {\r\n            dispatch({\r\n                type: FETCH_LANGUAGE_FAILED,\r\n                payload: \"No Languages available.\"\r\n            });\r\n        }\r\n    });\r\n};\r\n\r\nexport const editLanguage = (lang, method) => (dispatch) => {\r\n    const {\r\n        languagesRef,\r\n        languagesEditRef\r\n    } = firebase;\r\n    dispatch({\r\n        type: EDIT_LANGUAGE,\r\n        payload: { lang, method }\r\n    });\r\n    if (method === 'Add') {\r\n        push(languagesRef, lang);\r\n    } else if (method === 'Delete') {\r\n        remove(languagesEditRef(lang.id));\r\n    } else {\r\n        set(languagesEditRef(lang.id),lang);\r\n    }\r\n}"],"mappings":"AAAA,OACIA,cAAc,CACdC,sBAAsB,CACtBC,qBAAqB,CACrBC,aAAa,KACV,gBAAgB,CACvB,OAASC,QAAQ,KAAQ,6BAA6B,CACtD,OAASC,OAAO,CAAEC,GAAG,CAAEC,IAAI,CAAEC,MAAM,KAAQ,mBAAmB,CAE9D,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,QAAS,UAACC,QAAQ,CAAK,CAE9C,GACI,CAAAC,YAAY,CACZP,QAAQ,CADRO,YAAY,CAGhBD,QAAQ,CAAC,CACLE,IAAI,CAAEZ,cAAc,CACpBa,OAAO,CAAE,IACb,CAAC,CAAC,CACFR,OAAO,CAACM,YAAY,CAAE,SAAAG,QAAQ,CAAI,CAC9B,GAAIA,QAAQ,CAACC,GAAG,EAAE,CAAE,CAChB,GAAM,CAAAC,IAAI,CAAGF,QAAQ,CAACC,GAAG,EAAE,CAC3B,GAAI,CAAAE,OAAO,CAAG,IAAI,CAClB,GAAM,CAAAC,GAAG,CAAGC,MAAM,CAACC,IAAI,CAACJ,IAAI,CAAC,CAACK,GAAG,CAAC,SAAAC,CAAC,CAAI,CACnCN,IAAI,CAACM,CAAC,CAAC,CAACC,EAAE,CAAGD,CAAC,CACd,GAAGN,IAAI,CAACM,CAAC,CAAC,CAACE,OAAO,CAAC,CACfP,OAAO,CAAGD,IAAI,CAACM,CAAC,CAAC,CAACG,aAAa,CACnC,CACA,MAAO,CAAAT,IAAI,CAACM,CAAC,CAAC,CAClB,CAAC,CAAC,CACFZ,QAAQ,CAAC,CACLE,IAAI,CAAEX,sBAAsB,CAC5BY,OAAO,CAAE,CACLa,eAAe,CAAET,OAAO,CACxBU,QAAQ,CAAET,GACd,CACJ,CAAC,CAAC,CACN,CAAC,IAAM,CACHR,QAAQ,CAAC,CACLE,IAAI,CAAEV,qBAAqB,CAC3BW,OAAO,CAAE,yBACb,CAAC,CAAC,CACN,CACJ,CAAC,CAAC,CACN,CAAC,GAED,MAAO,IAAM,CAAAe,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,IAAI,CAAEC,MAAM,QAAK,UAACpB,QAAQ,CAAK,CACxD,GACI,CAAAC,YAAY,CAEZP,QAAQ,CAFRO,YAAY,CACZoB,gBAAgB,CAChB3B,QAAQ,CADR2B,gBAAgB,CAEpBrB,QAAQ,CAAC,CACLE,IAAI,CAAET,aAAa,CACnBU,OAAO,CAAE,CAAEgB,IAAI,CAAJA,IAAI,CAAEC,MAAM,CAANA,MAAO,CAC5B,CAAC,CAAC,CACF,GAAIA,MAAM,GAAK,KAAK,CAAE,CAClBvB,IAAI,CAACI,YAAY,CAAEkB,IAAI,CAAC,CAC5B,CAAC,IAAM,IAAIC,MAAM,GAAK,QAAQ,CAAE,CAC5BtB,MAAM,CAACuB,gBAAgB,CAACF,IAAI,CAACN,EAAE,CAAC,CAAC,CACrC,CAAC,IAAM,CACHjB,GAAG,CAACyB,gBAAgB,CAACF,IAAI,CAACN,EAAE,CAAC,CAACM,IAAI,CAAC,CACvC,CACJ,CAAC"},"metadata":{},"sourceType":"module"}