{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{FETCH_SMTP,FETCH_SMTP_SUCCESS,FETCH_SMTP_FAILED}from\"../store/types\";import{firebase}from'../config/configureFirebase';import{onValue}from\"firebase/database\";export var fetchSMTP=function fetchSMTP(){return function(dispatch){var smtpRef=firebase.smtpRef;dispatch({type:FETCH_SMTP,payload:null});onValue(smtpRef,function(snapshot){if(snapshot.val()){dispatch({type:FETCH_SMTP_SUCCESS,payload:snapshot.val()});}else{dispatch({type:FETCH_SMTP_FAILED,payload:\"Unable to fetch SMTP details.\"});}});};};export var checkSMTP=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(fromEmail,smtpDetails){var config,url,body,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:config=firebase.config;url=\"https://\".concat(config.projectId,\".web.app/checksmtpdetails\");body={fromEmail:fromEmail,smtpDetails:smtpDetails};_context.next=5;return fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)});case 5:response=_context.sent;_context.next=8;return response.json();case 8:return _context.abrupt(\"return\",_context.sent);case 9:case\"end\":return _context.stop();}},_callee);}));return function checkSMTP(_x,_x2){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["FETCH_SMTP","FETCH_SMTP_SUCCESS","FETCH_SMTP_FAILED","firebase","onValue","fetchSMTP","dispatch","smtpRef","type","payload","snapshot","val","checkSMTP","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fromEmail","smtpDetails","config","url","body","response","wrap","_callee$","_context","prev","next","concat","projectId","fetch","method","headers","JSON","stringify","sent","json","abrupt","stop","_x","_x2","apply","arguments"],"sources":["/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/common/src/actions/smtpactions.js"],"sourcesContent":["import {\r\n  FETCH_SMTP,\r\n  FETCH_SMTP_SUCCESS,\r\n  FETCH_SMTP_FAILED\r\n} from \"../store/types\";\r\nimport { firebase } from '../config/configureFirebase';\r\nimport { onValue } from \"firebase/database\";\r\n\r\nexport const fetchSMTP = () => (dispatch) => {\r\n\r\n  const {\r\n    smtpRef\r\n  } = firebase;\r\n\r\n  dispatch({\r\n    type: FETCH_SMTP,\r\n    payload: null,\r\n  });\r\n  onValue(smtpRef, (snapshot) => {\r\n    if (snapshot.val()) {\r\n      dispatch({\r\n        type: FETCH_SMTP_SUCCESS,\r\n        payload: snapshot.val(),\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: FETCH_SMTP_FAILED,\r\n        payload: \"Unable to fetch SMTP details.\",\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nexport const checkSMTP = async(fromEmail, smtpDetails) => {\r\n  const {\r\n    config\r\n  } = firebase;\r\n\r\n  let url = `https://${config.projectId}.web.app/checksmtpdetails`;\r\n\r\n  const body = { fromEmail: fromEmail, smtpDetails: smtpDetails };\r\n  const response = await fetch(url, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(body)\r\n  })\r\n\r\n  return await response.json();\r\n}"],"mappings":"4RAAA,OACEA,UAAU,CACVC,kBAAkB,CAClBC,iBAAiB,KACZ,gBAAgB,CACvB,OAASC,QAAQ,KAAQ,6BAA6B,CACtD,OAASC,OAAO,KAAQ,mBAAmB,CAE3C,MAAO,IAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,QAAS,UAACC,QAAQ,CAAK,CAE3C,GACE,CAAAC,OAAO,CACLJ,QAAQ,CADVI,OAAO,CAGTD,QAAQ,CAAC,CACPE,IAAI,CAAER,UAAU,CAChBS,OAAO,CAAE,IACX,CAAC,CAAC,CACFL,OAAO,CAACG,OAAO,CAAE,SAACG,QAAQ,CAAK,CAC7B,GAAIA,QAAQ,CAACC,GAAG,EAAE,CAAE,CAClBL,QAAQ,CAAC,CACPE,IAAI,CAAEP,kBAAkB,CACxBQ,OAAO,CAAEC,QAAQ,CAACC,GAAG,EACvB,CAAC,CAAC,CACJ,CAAC,IAAM,CACLL,QAAQ,CAAC,CACPE,IAAI,CAAEN,iBAAiB,CACvBO,OAAO,CAAE,+BACX,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CAAC,GAED,MAAO,IAAM,CAAAG,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAMC,SAAS,CAAEC,WAAW,MAAAC,MAAA,CAAAC,GAAA,CAAAC,IAAA,CAAAC,QAAA,QAAAR,mBAAA,GAAAS,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAEjDR,MAAM,CACJjB,QAAQ,CADViB,MAAM,CAGJC,GAAG,YAAAQ,MAAA,CAAcT,MAAM,CAACU,SAAS,8BAE/BR,IAAI,CAAG,CAAEJ,SAAS,CAAEA,SAAS,CAAEC,WAAW,CAAEA,WAAY,CAAC,CAAAO,QAAA,CAAAE,IAAA,SACxC,CAAAG,KAAK,CAACV,GAAG,CAAE,CAChCW,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDX,IAAI,CAAEY,IAAI,CAACC,SAAS,CAACb,IAAI,CAC3B,CAAC,CAAC,QANIC,QAAQ,CAAAG,QAAA,CAAAU,IAAA,CAAAV,QAAA,CAAAE,IAAA,SAQD,CAAAL,QAAQ,CAACc,IAAI,EAAE,eAAAX,QAAA,CAAAY,MAAA,UAAAZ,QAAA,CAAAU,IAAA,0BAAAV,QAAA,CAAAa,IAAA,MAAAtB,OAAA,GAC7B,kBAjBY,CAAAL,SAASA,CAAA4B,EAAA,CAAAC,GAAA,SAAA5B,IAAA,CAAA6B,KAAA,MAAAC,SAAA,OAiBrB"},"metadata":{},"sourceType":"module"}