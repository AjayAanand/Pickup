{"ast":null,"code":"import _objectSpread from\"/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from'react';import MaterialTable from'material-table';import{useSelector,useDispatch}from\"react-redux\";import CircularLoading from\"../components/CircularLoading\";import{api}from'common';import{makeStyles}from'@mui/styles';import{useTranslation}from\"react-i18next\";import{Modal,Grid,Typography}from'@mui/material';import Button from\"components/CustomButtons/Button.js\";import CancelIcon from'@mui/icons-material/Cancel';import AlertDialog from'../components/AlertDialog';import CircularProgress from'@mui/material/CircularProgress';import Tooltip from'@mui/material/Tooltip';import TextField from'@mui/material/TextField';import{Autocomplete}from'@mui/material';import DoneAllIcon from'@mui/icons-material/DoneAll';import BlockIcon from'@mui/icons-material/Block';import{colors}from'../components/Theme/WebTheme';import moment from'moment/min/moment-with-locales';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{modal:{display:'flex',alignItems:'center',justifyContent:'center'},submit3:{width:'100%',borderRadius:3,marginTop:2,padding:4},paper:{width:500,backgroundColor:theme.palette.background.paper,boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3),borderRadius:15,alignItems:'center',justifyContent:'center'}};});export default function CarsList(){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var isRTL=i18n.dir();var settings=useSelector(function(state){return state.settingsdata.settings;});var userdata=useSelector(function(state){return state.usersdata;});var auth=useSelector(function(state){return state.auth;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),drivers=_useState2[0],setDrivers=_useState2[1];var updateUserCar=api.updateUserCar,editCar=api.editCar;var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),driversObj=_useState4[0],setDriversObj=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),fleetMapObj=_useState6[0],setFleetMapObj=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];var cartypes=useSelector(function(state){return state.cartypes;});var carlistdata=useSelector(function(state){return state.carlistdata;});var dispatch=useDispatch();var rootRef=useRef(null);var classes=useStyles();var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),cars=_useState10[0],setCars=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),role=_useState12[0],setRole=_useState12[1];useEffect(function(){if(role!=='driver'&&userdata.users){var arr=userdata.users.filter(function(user){return user.usertype==='driver'&&(role==='fleetadmin'&&user.fleetadmin&&user.fleetadmin===auth.profile.uid||role==='admin');});var obj={};var obj2={};var arr2=[];for(var i=0;i<arr.length;i++){var user=arr[i];arr2.push({id:user.id,desc:user.firstName+' '+user.lastName+' ('+(settings.AllowCriticalEditsAdmin?user.mobile:\"Hidden\")+') '+(settings.AllowCriticalEditsAdmin?user.email:\"Hidden\")});obj[user.id]=user.firstName+' '+user.lastName+' ('+(settings.AllowCriticalEditsAdmin?user.mobile:\"Hidden\")+') '+(settings.AllowCriticalEditsAdmin?user.email:\"Hidden\");obj2[user.id]=user.fleetadmin?user.fleetadmin:null;}setDrivers(arr2);setDriversObj(obj);setFleetMapObj(obj2);}},[userdata.users,settings.AllowCriticalEditsAdmin,role,auth.profile.uid]);useEffect(function(){if(cartypes.cars){var obj={};cartypes.cars.sort(function(a,b){return a.pos-b.pos;}).map(function(car){return obj[car.name]=car.name;});setCars(obj);}},[cartypes.cars]);useEffect(function(){if(auth.profile&&auth.profile.usertype){setRole(auth.profile.usertype);}},[auth.profile]);useEffect(function(){if(carlistdata.cars){setData(carlistdata.cars);}else{setData([]);}},[carlistdata.cars]);var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),selectedImage=_useState14[0],setSelectedImage=_useState14[1];var handleProfileModal=function handleProfileModal(e){setProfileModal(false);setSelectedImage(null);};var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),userData=_useState16[0],setUserData=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),profileModal=_useState18[0],setProfileModal=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),imageData=_useState20[0],setImageData=_useState20[1];var _useState21=useState({open:false,msg:''}),_useState22=_slicedToArray(_useState21,2),commonAlert=_useState22[0],setCommonAlert=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),loading=_useState24[0],setLoading=_useState24[1];var handleCommonAlertClose=function handleCommonAlertClose(e){e.preventDefault();setCommonAlert({open:false,msg:''});};var handleSetProfileModal=function handleSetProfileModal(e){e.preventDefault();if(selectedImage){setLoading(true);var finalData=userData;finalData.car_image=selectedImage;dispatch(editCar(finalData,\"UpdateImage\"));setProfileModal(false);setTimeout(function(){setSelectedImage(null);setLoading(false);},10000);}else{setCommonAlert({open:true,msg:t('choose_image_first')});}};var _onClick=function onClick(rowData){setImageData(rowData.car_image);setProfileModal(true);setUserData(rowData);};var columns=[{title:t('createdAt'),field:'createdAt',editable:'never',defaultSort:'desc',render:function render(rowData){return rowData.createdAt?moment(rowData.createdAt).format('lll'):null;},cellStyle:{textAlign:isRTL==='rtl'?'right':'center'}},{title:t('driver'),field:'driver',editable:role==='driver'?'never':'always',cellStyle:{textAlign:'center'},render:function render(rowData){if(rowData&&rowData.driver){return driversObj&&driversObj[rowData.driver]?driversObj[rowData.driver]:null;}},editComponent:function editComponent(props){return/*#__PURE__*/_jsx(Autocomplete,{id:\"combo-box-demo\",options:drivers,getOptionLabel:function getOptionLabel(option){return option.desc;},style:{width:300},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Combo box\",variant:\"outlined\"}));},onChange:function onChange(event,newValue){props.onChange(newValue.id);}});},exportTransformer:function exportTransformer(rowData){return driversObj[rowData.driver];},hidden:role==='driver'?true:false},{title:t('car_type'),field:'carType',lookup:cars},{title:t('vehicle_reg_no'),field:'vehicleNumber'},{title:t('vehicle_model_name'),field:'vehicleMake'},{title:t('vehicle_model_no'),field:'vehicleModel'},{title:t('other_info'),field:'other_info'},{title:t('image'),field:'car_image',initialEditValue:'https://cdn.pixabay.com/photo/2012/04/13/20/37/car-33556__480.png',render:function render(rowData){return rowData.car_image?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){_onClick(rowData);},children:/*#__PURE__*/_jsx(\"img\",{alt:\"CarImage\",src:rowData.car_image,style:{width:50}})}):null;}},{title:t('active_status'),field:'active',editable:role==='admin'?'never':'always',type:'boolean'},{title:t('approved'),field:'approved',editable:'never',type:'boolean'}];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),selectedRow=_useState26[0],setSelectedRow=_useState26[1];return carlistdata.loading?/*#__PURE__*/_jsx(CircularLoading,{}):/*#__PURE__*/_jsxs(\"div\",{ref:rootRef,children:[/*#__PURE__*/_jsx(MaterialTable,{title:t('cars'),columns:columns,style:{direction:isRTL==='rtl'?'rtl':'ltr',borderRadius:\"8px\",boxShadow:\"4px 4px 6px #9E9E9E\"},data:data,onRowClick:function onRowClick(evt,selectedRow){return setSelectedRow(selectedRow.tableData.id);},options:{exportButton:true,rowStyle:function rowStyle(rowData){return{backgroundColor:selectedRow===rowData.tableData.id?'#EEE':'#FFF'};},editable:{backgroundColor:colors.Header_Text,fontSize:\"0.8em\",fontWeight:'bold ',fontFamily:'Lucida Console\", \"Courier New\", monospace'},headerStyle:{position:\"sticky\",top:\"0px\",backgroundColor:colors.Header_Text_back,color:'#fff',fontSize:\"0.8em\",fontWeight:'bold ',fontFamily:'Lucida Console\", \"Courier New\", monospace'}},localization:{body:{addTooltip:t('add'),deleteTooltip:t('delete'),editTooltip:t('edit'),emptyDataSourceMessage:t('blank_message'),editRow:{deleteText:t('delete_message'),cancelTooltip:t('cancel'),saveTooltip:t('save')}},toolbar:{searchPlaceholder:t('search'),exportTitle:t('export')},header:{actions:t('actions')},pagination:{labelDisplayedRows:'{from}-{to} '+t('of')+' {count}',firstTooltip:t('first_page_tooltip'),previousTooltip:t('previous_page_tooltip'),nextTooltip:t('next_page_tooltip'),lastTooltip:t('last_page_tooltip')}},editable:{onRowAdd:function onRowAdd(newData){return settings.AllowCriticalEditsAdmin?new Promise(function(resolve,reject){setTimeout(function(){if(newData&&newData.carType&&newData.vehicleNumber&&newData.vehicleMake&&newData.vehicleModel&&newData.other_info&&newData.car_image){var selectDriver=role==='admin'?newData.driver:auth.profile.uid;var activeCar=null;var updateData={carType:newData.carType,vehicleNumber:newData.vehicleNumber,vehicleMake:newData.vehicleMake,vehicleModel:newData.vehicleModel,other_info:newData.other_info,car_image:newData.car_image,updateAt:new Date().getTime()};for(var i=0;i<data.length;i++){if(data[i].driver===newData.driver&&data[i].active){activeCar=data[i];break;}}if(activeCar&&newData.active){activeCar.active=false;dispatch(editCar(activeCar,\"Update\"));dispatch(updateUserCar(selectDriver,updateData));}else if(activeCar&&!newData.active){newData.active=false;}else{newData.active=true;dispatch(updateUserCar(selectDriver,updateData));}if(role==='driver'){newData['driver']=selectDriver;}newData['createdAt']=new Date().getTime();newData['fleetadmin']=newData['driver']?fleetMapObj[newData['driver']]?fleetMapObj[newData['driver']]:null:null;if(!settings.carApproval){newData['approved']=true;if(newData.active){dispatch(updateUserCar(newData.driver,{carApproved:true}));}}else{newData['approved']=false;}dispatch(editCar(newData,\"Add\"));resolve();}else{alert(t('proper_input_name'));reject();}},600);}):new Promise(function(resolve){setTimeout(function(){resolve();alert(t('demo_mode'));},600);});},onRowUpdate:function onRowUpdate(newData,oldData){return settings.AllowCriticalEditsAdmin?new Promise(function(resolve){setTimeout(function(){resolve();if(newData!==oldData){var activeCar=null;var updateData={carType:newData.carType,vehicleNumber:newData.vehicleNumber,vehicleMake:newData.vehicleMake,vehicleModel:newData.vehicleModel,other_info:newData.other_info,car_image:newData.car_image,updateAt:new Date().getTime()};for(var i=0;i<data.length;i++){if(data[i].driver===newData.driver&&data[i].active){activeCar=data[i];break;}}if(activeCar&&newData.active){activeCar.active=false;dispatch(editCar(activeCar,\"Update\"));dispatch(updateUserCar(newData.driver,updateData));}else if(activeCar&&!newData.active){newData.active=false;}else{newData.active=true;dispatch(updateUserCar(newData.driver,updateData));}newData['fleetadmin']=newData['fleetadmin']?fleetMapObj[newData['driver']]:null;delete newData.tableData;dispatch(editCar(newData,\"Update\"));if(newData.driver!==oldData.driver&&oldData.driver){dispatch(updateUserCar(oldData.driver,{carType:null,vehicleNumber:null,vehicleMake:null,vehicleModel:null,other_info:null,car_image:null,updateAt:new Date().getTime()}));}}},600);}):new Promise(function(resolve){setTimeout(function(){resolve();alert(t('demo_mode'));},600);});},onRowDelete:function onRowDelete(oldData){return settings.AllowCriticalEditsAdmin?new Promise(function(resolve,reject){setTimeout(function(){if(oldData.active){reject();alert(t('active_car_delete'));}else{resolve();dispatch(editCar(oldData,\"Delete\"));}},600);}):new Promise(function(resolve){setTimeout(function(){resolve();alert(t('demo_mode'));},600);});}},actions:[function(rowData){return settings.carApproval&&role==='admin'?{icon:function icon(){return rowData.approved?/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(BlockIcon,{}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:t('reject')})]}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(DoneAllIcon,{}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:t('accept')})]});},onClick:function onClick(event,rowData){if(rowData.active){dispatch(updateUserCar(rowData.driver,{carApproved:!rowData.approved}));}dispatch(editCar(_objectSpread(_objectSpread({},rowData),{},{approved:!rowData.approved}),\"Update\"));}}:null;}]}),/*#__PURE__*/_jsx(Modal,{disablePortal:true,disableEnforceFocus:true,disableAutoFocus:true,open:profileModal,onClose:handleProfileModal,className:classes.modal,container:function container(){return rootRef.current;},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:1,className:classes.paper,style:{direction:isRTL==='rtl'?'rtl':'ltr'},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:12,lg:12,children:/*#__PURE__*/_jsxs(Typography,{component:\"h1\",variant:\"h6\",children:[t('car_image'),/*#__PURE__*/_jsx(\"input\",{type:\"file\",style:{marginLeft:10},name:t('image'),onChange:function onChange(event){setSelectedImage(event.target.files[0]);}})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:12,lg:12,children:selectedImage&&!loading?/*#__PURE__*/_jsx(Tooltip,{title:t('cancel'),children:/*#__PURE__*/_jsx(CancelIcon,{onClick:function onClick(){return setSelectedImage(null);},style:{fontSize:30,backgroundColor:'red',borderRadius:50,color:\"white\"}})}):null}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:12,md:12,lg:12,children:[selectedImage?/*#__PURE__*/_jsx(\"img\",{alt:\"not fount\",width:\"200px\",height:\"200px\",src:URL.createObjectURL(selectedImage),style:{marginTop:15,marginBottom:20}}):/*#__PURE__*/_jsx(\"img\",{alt:\"not fount\",width:\"200px\",height:\"200px\",src:imageData,style:{marginTop:10}}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{textAlign:isRTL==='rtl'?'right':'left'},children:loading?/*#__PURE__*/_jsx(Grid,{container:true,spacing:0,alignItems:\"center\",justify:\"center\",style:{minHeight:'5vh'},children:/*#__PURE__*/_jsx(CircularProgress,{})}):/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:12,md:12,lg:12,style:{textAlign:isRTL==='rtl'?'right':'left'},children:[/*#__PURE__*/_jsx(Button,{onClick:handleProfileModal,variant:\"contained\",color:\"danger\",children:t('cancel')}),/*#__PURE__*/_jsx(Button,{onClick:handleSetProfileModal,variant:\"contained\",color:\"secondaryButton\",style:{marginLeft:10},children:t('save')})]})})]})}),/*#__PURE__*/_jsx(AlertDialog,{open:commonAlert.open,onClose:handleCommonAlertClose,children:commonAlert.msg})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","MaterialTable","useSelector","useDispatch","CircularLoading","api","makeStyles","useTranslation","Modal","Grid","Typography","Button","CancelIcon","AlertDialog","CircularProgress","Tooltip","TextField","Autocomplete","DoneAllIcon","BlockIcon","colors","moment","jsx","_jsx","jsxs","_jsxs","useStyles","theme","modal","display","alignItems","justifyContent","submit3","width","borderRadius","marginTop","padding","paper","backgroundColor","palette","background","boxShadow","shadows","spacing","CarsList","_useTranslation","t","i18n","isRTL","dir","settings","state","settingsdata","userdata","usersdata","auth","_useState","_useState2","_slicedToArray","drivers","setDrivers","updateUserCar","editCar","_useState3","_useState4","driversObj","setDriversObj","_useState5","_useState6","fleetMapObj","setFleetMapObj","_useState7","_useState8","data","setData","cartypes","carlistdata","dispatch","rootRef","classes","_useState9","_useState10","cars","setCars","_useState11","_useState12","role","setRole","users","arr","filter","user","usertype","fleetadmin","profile","uid","obj","obj2","arr2","i","length","push","id","desc","firstName","lastName","AllowCriticalEditsAdmin","mobile","email","sort","a","b","pos","map","car","name","_useState13","_useState14","selectedImage","setSelectedImage","handleProfileModal","e","setProfileModal","_useState15","_useState16","userData","setUserData","_useState17","_useState18","profileModal","_useState19","_useState20","imageData","setImageData","_useState21","open","msg","_useState22","commonAlert","setCommonAlert","_useState23","_useState24","loading","setLoading","handleCommonAlertClose","preventDefault","handleSetProfileModal","finalData","car_image","setTimeout","onClick","rowData","columns","title","field","editable","defaultSort","render","createdAt","format","cellStyle","textAlign","driver","editComponent","props","options","getOptionLabel","option","style","renderInput","params","_objectSpread","label","variant","onChange","event","newValue","exportTransformer","hidden","lookup","initialEditValue","children","alt","src","type","_useState25","_useState26","selectedRow","setSelectedRow","ref","direction","onRowClick","evt","tableData","exportButton","rowStyle","Header_Text","fontSize","fontWeight","fontFamily","headerStyle","position","top","Header_Text_back","color","localization","body","addTooltip","deleteTooltip","editTooltip","emptyDataSourceMessage","editRow","deleteText","cancelTooltip","saveTooltip","toolbar","searchPlaceholder","exportTitle","header","actions","pagination","labelDisplayedRows","firstTooltip","previousTooltip","nextTooltip","lastTooltip","onRowAdd","newData","Promise","resolve","reject","carType","vehicleNumber","vehicleMake","vehicleModel","other_info","selectDriver","activeCar","updateData","updateAt","Date","getTime","active","carApproval","carApproved","alert","onRowUpdate","oldData","onRowDelete","icon","approved","flexWrap","disablePortal","disableEnforceFocus","disableAutoFocus","onClose","className","container","current","item","xs","sm","md","lg","component","marginLeft","target","files","height","URL","createObjectURL","marginBottom","justify","minHeight"],"sources":["/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/web-app/src/views/CarsList.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport CircularLoading from \"../components/CircularLoading\";\r\nimport { api } from 'common';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { useTranslation } from \"react-i18next\";\r\nimport {\r\n  Modal,\r\n  Grid,\r\n  Typography\r\n} from '@mui/material';\r\nimport Button from \"components/CustomButtons/Button.js\";\r\nimport CancelIcon from '@mui/icons-material/Cancel';\r\nimport AlertDialog from '../components/AlertDialog';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport Tooltip from '@mui/material/Tooltip';\r\nimport TextField from '@mui/material/TextField';\r\nimport { Autocomplete } from '@mui/material';\r\nimport DoneAllIcon from '@mui/icons-material/DoneAll';\r\nimport BlockIcon from '@mui/icons-material/Block';\r\nimport {colors} from '../components/Theme/WebTheme';\r\nimport moment from 'moment/min/moment-with-locales';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  submit3:{\r\n    width:'100%',\r\n    borderRadius:3,\r\n    marginTop:2,\r\n    padding:4\r\n  },\r\n  paper: {\r\n    width: 500,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    borderRadius:15,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n}));\r\n\r\nexport default function CarsList() {\r\n  const { t,i18n } = useTranslation();\r\n  const isRTL = i18n.dir();\r\n  const settings = useSelector(state => state.settingsdata.settings);\r\n  const userdata = useSelector(state => state.usersdata);\r\n  const auth = useSelector(state => state.auth);\r\n  const [drivers,setDrivers] = useState([]);\r\n  const {\r\n    updateUserCar,\r\n    editCar\r\n  } = api;\r\n  const [driversObj, setDriversObj] = useState();\r\n  const [fleetMapObj, setFleetMapObj] = useState([]);\r\n  const [data, setData] = useState([]);\r\n  const cartypes = useSelector(state => state.cartypes);\r\n  const carlistdata = useSelector(state => state.carlistdata);\r\n  const dispatch = useDispatch();\r\n  const rootRef = useRef(null);\r\n  const classes = useStyles();\r\n  const [cars, setCars] = useState({});\r\n  const [role, setRole] = useState(null);\r\n  \r\n  useEffect(() => {\r\n    if(role !== 'driver' && userdata.users){\r\n        let arr =  userdata.users.filter(user => user.usertype==='driver' && ((role === 'fleetadmin' && user.fleetadmin && user.fleetadmin === auth.profile.uid) || role === 'admin'));\r\n        let obj = {}; \r\n        let obj2 =  {};\r\n        let arr2 = [];\r\n        for(let i=0;i  < arr.length; i++){\r\n            let user = arr[i];\r\n            arr2.push({id: user.id, desc:user.firstName + ' ' + user.lastName + ' (' + (settings.AllowCriticalEditsAdmin? user.mobile : \"Hidden\") + ') ' + (settings.AllowCriticalEditsAdmin? user.email : \"Hidden\")});\r\n            obj[user.id]=user.firstName + ' ' + user.lastName + ' (' + (settings.AllowCriticalEditsAdmin? user.mobile : \"Hidden\") + ') ' + (settings.AllowCriticalEditsAdmin? user.email : \"Hidden\");\r\n            obj2[user.id]=user.fleetadmin?user.fleetadmin:null\r\n        }\r\n        setDrivers(arr2);\r\n        setDriversObj(obj);\r\n        setFleetMapObj(obj2);    \r\n    } \r\n  }, [userdata.users,settings.AllowCriticalEditsAdmin,role,auth.profile.uid]);\r\n\r\n  useEffect(()=>{\r\n    if(cartypes.cars){\r\n        let obj =  {};\r\n        cartypes.cars.sort((a, b) => a.pos - b.pos).map((car)=> obj[car.name]=car.name)\r\n        setCars(obj);\r\n    }\r\n  },[cartypes.cars]);\r\n\r\n  useEffect(() => {\r\n    if(auth.profile && auth.profile.usertype){\r\n      setRole(auth.profile.usertype);\r\n    }\r\n  }, [auth.profile]);\r\n\r\n  useEffect(() => {\r\n    if (carlistdata.cars) {\r\n      setData(carlistdata.cars)\r\n    } else {\r\n      setData([]);\r\n    }\r\n  }, [carlistdata.cars]);\r\n\r\n  const [selectedImage, setSelectedImage] = useState(null); \r\n  const handleProfileModal = (e) => {\r\n    setProfileModal(false);\r\n    setSelectedImage(null);\r\n  }\r\n\r\n  const [userData, setUserData] = useState();\r\n  const [profileModal, setProfileModal] =  useState(false);\r\n  const [imageData, setImageData] =  useState(false);\r\n  const [commonAlert, setCommonAlert] = useState({ open: false, msg: '' });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleCommonAlertClose = (e) => {\r\n    e.preventDefault();\r\n    setCommonAlert({ open: false, msg: '' })\r\n  };\r\n\r\n  const handleSetProfileModal = (e) =>{\r\n    e.preventDefault();\r\n    if(selectedImage){\r\n      setLoading(true);\r\n      let finalData = userData;\r\n      finalData.car_image = selectedImage;\r\n      dispatch(editCar(finalData, \"UpdateImage\"));\r\n      setProfileModal(false); \r\n      setTimeout(()=>{\r\n        setSelectedImage(null);\r\n        setLoading(false); \r\n      },10000);\r\n    }\r\n    else{\r\n      setCommonAlert({ open: true, msg: t('choose_image_first') })\r\n    }\r\n  }\r\n\r\n  const onClick = (rowData) => {\r\n    setImageData(rowData.car_image);\r\n    setProfileModal(true);\r\n    setUserData(rowData);\r\n  };\r\n  \r\n  const columns = [\r\n    { title: t('createdAt'), field: 'createdAt', editable:'never', defaultSort:'desc',render: rowData => rowData.createdAt? moment(rowData.createdAt).format('lll'):null,cellStyle:{textAlign:isRTL=== 'rtl' ?'right':'center'}},\r\n    { title: t('driver'), field: 'driver', editable: role === 'driver'? 'never': 'always', cellStyle:{ textAlign: 'center'}, \r\n      render: rowData =>{\r\n        if (rowData && rowData.driver) {\r\n          return driversObj && driversObj[rowData.driver]?driversObj[rowData.driver]: null\r\n        }\r\n      },\r\n      editComponent: props => (\r\n        <Autocomplete\r\n          id=\"combo-box-demo\"\r\n          options={drivers}\r\n          getOptionLabel={(option) => option.desc}\r\n          style={{ width: 300 }}\r\n          renderInput={(params) => <TextField {...params} label=\"Combo box\" variant=\"outlined\" />}\r\n          onChange={(event, newValue) => {\r\n            props.onChange(newValue.id)\r\n          }}\r\n        />\r\n      ),\r\n      exportTransformer: (rowData) => driversObj[rowData.driver],\r\n      hidden: role === 'driver'? true: false,\r\n    },\r\n    { title: t('car_type'), field: 'carType',lookup: cars},\r\n    { title: t('vehicle_reg_no'), field: 'vehicleNumber'},\r\n    { title: t('vehicle_model_name'), field: 'vehicleMake'},\r\n    { title: t('vehicle_model_no'),  field: 'vehicleModel'},\r\n    { title: t('other_info'),  field: 'other_info'},\r\n    { title: t('image'),  field: 'car_image',\r\n        initialEditValue: 'https://cdn.pixabay.com/photo/2012/04/13/20/37/car-33556__480.png',\r\n        render: rowData => rowData.car_image? <button onClick={()=>{onClick(rowData)}}><img alt='CarImage' src={rowData.car_image} style={{width: 50}}/></button>:null\r\n    },\r\n    { title: t('active_status'), field: 'active', editable: role === 'admin' ? 'never': 'always', type:'boolean'},\r\n    { title: t('approved'), field: 'approved', editable:'never', type:'boolean'}\r\n  ];\r\n\r\n  const [selectedRow, setSelectedRow] = useState(null);\r\n\r\n  return (\r\n    carlistdata.loading ? <CircularLoading /> :\r\n    <div ref={rootRef}>\r\n      <MaterialTable\r\n        title={t('cars')}\r\n        columns={columns}\r\n        style={{direction:isRTL ==='rtl'?'rtl':'ltr', borderRadius: \"8px\", boxShadow: \"4px 4px 6px #9E9E9E\"}}\r\n        data={data}\r\n        onRowClick={((evt, selectedRow) => setSelectedRow(selectedRow.tableData.id))}\r\n        options={{\r\n          exportButton: true,\r\n          rowStyle: rowData => ({\r\n            backgroundColor: (selectedRow === rowData.tableData.id) ? '#EEE' : '#FFF'\r\n          }),\r\n          editable:{\r\n            backgroundColor: colors.Header_Text,\r\n            fontSize: \"0.8em\",\r\n            fontWeight: 'bold ',\r\n            fontFamily: 'Lucida Console\", \"Courier New\", monospace'\r\n          },\r\n          headerStyle: {\r\n            position: \"sticky\",\r\n            top: \"0px\",\r\n            backgroundColor: colors.Header_Text_back ,\r\n            color: '#fff',\r\n            fontSize: \"0.8em\",\r\n            fontWeight: 'bold ',\r\n            fontFamily: 'Lucida Console\", \"Courier New\", monospace'\r\n          },\r\n        }}\r\n        localization={{body:{\r\n          addTooltip: (t('add')),\r\n          deleteTooltip: (t('delete')),\r\n          editTooltip: (t('edit')),\r\n          emptyDataSourceMessage: (\r\n            (t('blank_message'))\r\n        ),\r\n        editRow: { \r\n          deleteText: (t('delete_message')),\r\n          cancelTooltip: (t('cancel')),\r\n          saveTooltip: (t('save')) \r\n           }, \r\n          },\r\n          toolbar: {\r\n            searchPlaceholder: (t('search')),\r\n            exportTitle: (t('export')),\r\n          },\r\n          header: {\r\n            actions: (t('actions')) \r\n        },\r\n        pagination: {\r\n          labelDisplayedRows: ('{from}-{to} '+ (t('of'))+ ' {count}'),\r\n          firstTooltip: (t('first_page_tooltip')),\r\n          previousTooltip: (t('previous_page_tooltip')),\r\n          nextTooltip: (t('next_page_tooltip')),\r\n          lastTooltip: (t('last_page_tooltip'))\r\n        },\r\n        }}\r\n        editable={{\r\n          onRowAdd: newData =>\r\n          settings.AllowCriticalEditsAdmin?\r\n            new Promise((resolve, reject) => {\r\n              setTimeout(() => {\r\n                if(newData && newData.carType && newData.vehicleNumber && newData.vehicleMake && newData.vehicleModel && newData.other_info && newData.car_image){\r\n                  let selectDriver = role === 'admin'? newData.driver : auth.profile.uid;\r\n                  let activeCar = null;\r\n                  let updateData = { \r\n                    carType: newData.carType,\r\n                    vehicleNumber: newData.vehicleNumber,\r\n                    vehicleMake: newData.vehicleMake,\r\n                    vehicleModel: newData.vehicleModel,\r\n                    other_info: newData.other_info,\r\n                    car_image: newData.car_image,\r\n                    updateAt: new Date().getTime()\r\n                  }\r\n                  for(let i=0;i<data.length;i++){\r\n                    if(data[i].driver === newData.driver && data[i].active){\r\n                        activeCar = data[i];\r\n                        break;\r\n                    }\r\n                  }\r\n                  if(activeCar && newData.active){\r\n                    activeCar.active = false;\r\n                    dispatch(editCar(activeCar,\"Update\"));\r\n                    dispatch(updateUserCar(selectDriver,updateData));\r\n                  } else if(activeCar && !newData.active){\r\n                    newData.active = false;           \r\n                  }else {\r\n                    newData.active = true;\r\n                    dispatch(updateUserCar(selectDriver,updateData));\r\n                  }\r\n                  if(role === 'driver'){\r\n                    newData['driver'] = selectDriver;\r\n                  }\r\n                  newData['createdAt'] = new Date().getTime();\r\n                  newData['fleetadmin'] = newData['driver']? (fleetMapObj[newData['driver']]?fleetMapObj[newData['driver']]: null): null;\r\n                  if(!settings.carApproval){\r\n                    newData['approved'] = true;\r\n                    if(newData.active){\r\n                      dispatch(updateUserCar(newData.driver,{carApproved: true}));\r\n                    }\r\n                  } else {\r\n                    newData['approved'] = false;\r\n                  }\r\n                  dispatch(editCar(newData,\"Add\"));\r\n                  resolve();\r\n                } else{\r\n                  alert(t('proper_input_name'));\r\n                  reject();\r\n                }\r\n              }, 600);\r\n            })\r\n            :\r\n            new Promise(resolve => {\r\n              setTimeout(() => {\r\n                resolve();\r\n                alert(t('demo_mode'));\r\n              }, 600);\r\n            }),\r\n          onRowUpdate: (newData, oldData) =>\r\n            settings.AllowCriticalEditsAdmin?\r\n            new Promise(resolve => {\r\n              setTimeout(() => {\r\n                resolve();\r\n                if(newData !== oldData){\r\n                  let activeCar = null;\r\n                  let updateData = { \r\n                    carType: newData.carType,\r\n                    vehicleNumber: newData.vehicleNumber,\r\n                    vehicleMake: newData.vehicleMake,\r\n                    vehicleModel: newData.vehicleModel,\r\n                    other_info: newData.other_info,\r\n                    car_image: newData.car_image,\r\n                    updateAt: new Date().getTime()\r\n                  }\r\n                  for(let i=0;i<data.length;i++){\r\n                    if(data[i].driver === newData.driver && data[i].active){\r\n                        activeCar = data[i];\r\n                        break;\r\n                    }\r\n                  }\r\n                  if(activeCar && newData.active){\r\n                    activeCar.active = false;\r\n                    dispatch(editCar(activeCar,\"Update\"));\r\n                    dispatch(updateUserCar(newData.driver,updateData));\r\n                  } else if(activeCar && !newData.active){\r\n                    newData.active = false;           \r\n                  }else {\r\n                    newData.active = true;\r\n                    dispatch(updateUserCar(newData.driver,updateData));\r\n                  }\r\n                  newData['fleetadmin'] = newData['fleetadmin']? fleetMapObj[newData['driver']]:null;\r\n                  delete newData.tableData;\r\n                  dispatch(editCar(newData,\"Update\"));\r\n                  if(newData.driver !== oldData.driver && oldData.driver){\r\n                    dispatch(updateUserCar(oldData.driver,\r\n                      { \r\n                        carType: null,\r\n                        vehicleNumber: null,\r\n                        vehicleMake: null,\r\n                        vehicleModel: null,\r\n                        other_info: null,\r\n                        car_image: null,\r\n                        updateAt: new Date().getTime()\r\n                      }));\r\n                  }\r\n                }\r\n              }, 600);\r\n            })\r\n            :\r\n            new Promise(resolve => {\r\n              setTimeout(() => {\r\n                resolve();\r\n                alert(t('demo_mode'));\r\n              }, 600);\r\n            }),\r\n          onRowDelete: oldData =>\r\n            settings.AllowCriticalEditsAdmin?\r\n            new Promise((resolve, reject) => {\r\n              setTimeout(() => {\r\n                if(oldData.active){\r\n                    reject();\r\n                    alert(t('active_car_delete'));\r\n                } else {\r\n                    resolve();\r\n                    dispatch(editCar(oldData,\"Delete\"));\r\n                }\r\n              }, 600);\r\n            })\r\n            :\r\n            new Promise(resolve => {\r\n              setTimeout(() => {\r\n                resolve();\r\n                alert(t('demo_mode'));\r\n              }, 600);\r\n            })\r\n        }}\r\n        actions={[\r\n          rowData => (settings.carApproval && role === 'admin' ?{\r\n            icon: () => \r\n              rowData.approved? \r\n                <div style={{display: 'flex',alignItems: 'center',flexWrap: 'wrap'}}>\r\n                  <BlockIcon />\r\n                  <Typography variant=\"subtitle2\">{t('reject')}</Typography>\r\n                </div>\r\n                :\r\n                <div style={{display: 'flex',alignItems: 'center',flexWrap: 'wrap'}}>\r\n                  <DoneAllIcon />\r\n                  <Typography variant=\"subtitle2\">{t('accept')}</Typography>\r\n                </div>\r\n            ,\r\n            onClick: (event, rowData) => {\r\n              if(rowData.active){\r\n                  dispatch(updateUserCar(rowData.driver,{carApproved: !rowData.approved}));\r\n              }\r\n              dispatch(editCar({...rowData, approved: !rowData.approved},\"Update\"));  \r\n            }\r\n          }:null),\r\n        ]}\r\n      />\r\n      <Modal\r\n        disablePortal\r\n        disableEnforceFocus\r\n        disableAutoFocus\r\n        open={profileModal}\r\n        onClose={handleProfileModal}\r\n        className={classes.modal}\r\n        container={() => rootRef.current}\r\n      >\r\n      <Grid container spacing={1} className={classes.paper} style={{direction:isRTL==='rtl'?'rtl':'ltr'}}>\r\n        <Grid item xs={12} sm={12} md={12} lg={12}>\r\n            <Typography component=\"h1\" variant=\"h6\">\r\n                {t('car_image')}\r\n              <input\r\n                  type=\"file\"\r\n                  style={{marginLeft:10}}\r\n                  name= {t('image')}\r\n                  onChange={(event) => {\r\n                      setSelectedImage(event.target.files[0]);\r\n                  }}\r\n              />\r\n            </Typography>\r\n         </Grid>\r\n         <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                  {selectedImage  && !loading ? \r\n                    <Tooltip title={t('cancel')}>\r\n                      <CancelIcon onClick={()=>setSelectedImage(null)} style={{ fontSize: 30,backgroundColor:'red',borderRadius:50,color:\"white\" }}  />\r\n                    </Tooltip>\r\n                  : null }\r\n                </Grid>\r\n                <Grid item xs={12} sm={12} md={12} lg={12}>\r\n                  {selectedImage ? \r\n                   <img alt=\"not fount\" width={\"200px\"} height={\"200px\"}  src={URL.createObjectURL(selectedImage)} style={{marginTop:15,marginBottom:20}}/>\r\n                   :\r\n                    <img alt=\"not fount\" width={\"200px\"} height={\"200px\"}  src={imageData} style={{marginTop:10}}/>\r\n                  }\r\n                <br />\r\n                </Grid>\r\n\r\n          <Grid item xs={12} sm={12} md={12} lg={12} style={{textAlign:isRTL==='rtl'?'right':'left'}}>\r\n          {loading ? \r\n            <Grid\r\n              container\r\n              spacing={0}\r\n              alignItems=\"center\"\r\n              justify=\"center\"\r\n              style={{ minHeight: '5vh' }} >\r\n              <CircularProgress/>\r\n            </Grid>\r\n            :\r\n            <Grid item xs={12} sm={12} md={12} lg={12} style={{textAlign:isRTL==='rtl'?'right':'left'}}>\r\n            <Button onClick={handleProfileModal} variant=\"contained\" color=\"danger\">\r\n              {t('cancel')}\r\n            </Button>\r\n            <Button onClick={handleSetProfileModal} variant=\"contained\" color=\"secondaryButton\" style={{marginLeft:10}}>\r\n              {t('save')}\r\n            </Button>\r\n            </Grid>\r\n          }\r\n          </Grid>\r\n        </Grid>\r\n      </Modal>\r\n      <AlertDialog open={commonAlert.open} onClose={handleCommonAlertClose}>{commonAlert.msg}</AlertDialog>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}