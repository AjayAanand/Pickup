{"ast":null,"code":"import _objectSpread from\"/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{FETCH_WITHDRAWS,FETCH_WITHDRAWS_SUCCESS,FETCH_WITHDRAWS_FAILED,EDIT_WITHDRAWS}from\"../store/types\";import{firebase}from'../config/configureFirebase';import{onValue,child,update}from\"firebase/database\";export var fetchWithdraws=function fetchWithdraws(){return function(dispatch){var withdrawRef=firebase.withdrawRef;dispatch({type:FETCH_WITHDRAWS,payload:null});onValue(withdrawRef,function(snapshot){if(snapshot.val()){var data=snapshot.val();var arr=Object.keys(data).map(function(i){data[i].id=i;return data[i];});dispatch({type:FETCH_WITHDRAWS_SUCCESS,payload:arr.reverse()});}else{dispatch({type:FETCH_WITHDRAWS_FAILED,payload:\"No WITHDRAWS available.\"});}});};};export var completeWithdraw=function completeWithdraw(entry){return function(dispatch){var withdrawRef=firebase.withdrawRef;dispatch({type:EDIT_WITHDRAWS,payload:entry});update(child(withdrawRef,entry.id),_objectSpread(_objectSpread({},entry),{},{processed:true,processDate:new Date().getTime()}));};};","map":{"version":3,"names":["FETCH_WITHDRAWS","FETCH_WITHDRAWS_SUCCESS","FETCH_WITHDRAWS_FAILED","EDIT_WITHDRAWS","firebase","onValue","child","update","fetchWithdraws","dispatch","withdrawRef","type","payload","snapshot","val","data","arr","Object","keys","map","i","id","reverse","completeWithdraw","entry","_objectSpread","processed","processDate","Date","getTime"],"sources":["/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/common/src/actions/withdrawactions.js"],"sourcesContent":["import {\r\n  FETCH_WITHDRAWS,\r\n  FETCH_WITHDRAWS_SUCCESS,\r\n  FETCH_WITHDRAWS_FAILED,\r\n  EDIT_WITHDRAWS\r\n} from \"../store/types\";\r\nimport { firebase } from '../config/configureFirebase';\r\nimport { onValue, child, update } from \"firebase/database\";\r\n\r\nexport const fetchWithdraws = () => (dispatch) => {\r\n\r\n  const {\r\n    withdrawRef\r\n  } = firebase;\r\n\r\n  dispatch({\r\n    type: FETCH_WITHDRAWS,\r\n    payload: null\r\n  });\r\n onValue(withdrawRef, snapshot => {\r\n    if (snapshot.val()) {\r\n      const data = snapshot.val();\r\n      const arr = Object.keys(data).map(i => {\r\n        data[i].id = i\r\n        return data[i]\r\n      });\r\n      dispatch({\r\n        type: FETCH_WITHDRAWS_SUCCESS,\r\n        payload: arr.reverse()\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: FETCH_WITHDRAWS_FAILED,\r\n        payload: \"No WITHDRAWS available.\"\r\n      });\r\n    }\r\n  });\r\n};\r\n\r\nexport const completeWithdraw = (entry) => (dispatch) => {\r\n\r\n  const {\r\n    withdrawRef\r\n  } = firebase;\r\n  \r\n  dispatch({\r\n    type: EDIT_WITHDRAWS,\r\n    payload: entry\r\n  });\r\n  update(child(withdrawRef, entry.id),{ ...entry, processed: true, processDate: new Date().getTime() });\r\n}"],"mappings":"qIAAA,OACEA,eAAe,CACfC,uBAAuB,CACvBC,sBAAsB,CACtBC,cAAc,KACT,gBAAgB,CACvB,OAASC,QAAQ,KAAQ,6BAA6B,CACtD,OAASC,OAAO,CAAEC,KAAK,CAAEC,MAAM,KAAQ,mBAAmB,CAE1D,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,QAAS,UAACC,QAAQ,CAAK,CAEhD,GACE,CAAAC,WAAW,CACTN,QAAQ,CADVM,WAAW,CAGbD,QAAQ,CAAC,CACPE,IAAI,CAAEX,eAAe,CACrBY,OAAO,CAAE,IACX,CAAC,CAAC,CACHP,OAAO,CAACK,WAAW,CAAE,SAAAG,QAAQ,CAAI,CAC9B,GAAIA,QAAQ,CAACC,GAAG,EAAE,CAAE,CAClB,GAAM,CAAAC,IAAI,CAAGF,QAAQ,CAACC,GAAG,EAAE,CAC3B,GAAM,CAAAE,GAAG,CAAGC,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CAACI,GAAG,CAAC,SAAAC,CAAC,CAAI,CACrCL,IAAI,CAACK,CAAC,CAAC,CAACC,EAAE,CAAGD,CAAC,CACd,MAAO,CAAAL,IAAI,CAACK,CAAC,CAAC,CAChB,CAAC,CAAC,CACFX,QAAQ,CAAC,CACPE,IAAI,CAAEV,uBAAuB,CAC7BW,OAAO,CAAEI,GAAG,CAACM,OAAO,EACtB,CAAC,CAAC,CACJ,CAAC,IAAM,CACLb,QAAQ,CAAC,CACPE,IAAI,CAAET,sBAAsB,CAC5BU,OAAO,CAAE,yBACX,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CACJ,CAAC,GAED,MAAO,IAAM,CAAAW,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,KAAK,QAAK,UAACf,QAAQ,CAAK,CAEvD,GACE,CAAAC,WAAW,CACTN,QAAQ,CADVM,WAAW,CAGbD,QAAQ,CAAC,CACPE,IAAI,CAAER,cAAc,CACpBS,OAAO,CAAEY,KACX,CAAC,CAAC,CACFjB,MAAM,CAACD,KAAK,CAACI,WAAW,CAAEc,KAAK,CAACH,EAAE,CAAC,CAAAI,aAAA,CAAAA,aAAA,IAAMD,KAAK,MAAEE,SAAS,CAAE,IAAI,CAAEC,WAAW,CAAE,GAAI,CAAAC,IAAI,EAAE,CAACC,OAAO,EAAE,GAAG,CACvG,CAAC"},"metadata":{},"sourceType":"module"}