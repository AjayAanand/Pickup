{"ast":null,"code":"import _slicedToArray from\"/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import MaterialTable from'material-table';import{useSelector}from\"react-redux\";import CircularLoading from\"../components/CircularLoading\";import{useTranslation}from\"react-i18next\";import{colors}from'../components/Theme/WebTheme';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Earningreports(){var _useTranslation=useTranslation(),t=_useTranslation.t,i18n=_useTranslation.i18n;var isRTL=i18n.dir();var settings=useSelector(function(state){return state.settingsdata.settings;});var columns=[{title:t('year'),field:'year',cellStyle:{paddingLeft:isRTL==='rtl'?40:null}},{title:t('months'),field:'monthsName',cellStyle:{paddingLeft:isRTL==='rtl'?40:null}},{title:t('booking_count'),field:'total_rides',cellStyle:{paddingLeft:isRTL==='rtl'?40:null}},{title:t('Gross_trip_cost'),render:function render(rowData){return(parseFloat(rowData.tripCost)+parseFloat(rowData.cancellationFee)).toFixed(settings.decimal);},editable:'never',cellStyle:{paddingLeft:isRTL==='rtl'?40:null}},{title:t('trip_cost_driver_share'),field:'rideCost',cellStyle:{paddingLeft:isRTL==='rtl'?40:null}},{title:t('cancellationFee'),field:'cancellationFee',cellStyle:{paddingLeft:isRTL==='rtl'?40:null}},{title:t('convenience_fee'),field:'convenienceFee',cellStyle:{paddingLeft:isRTL==='rtl'?40:null}},{title:t('Discounts'),field:'discountAmount',cellStyle:{paddingLeft:isRTL==='rtl'?40:null}},{title:t('Profit'),render:function render(rowData){return(parseFloat(rowData.convenienceFee)+parseFloat(rowData.cancellationFee)-parseFloat(rowData.discountAmount)).toFixed(settings.decimal);},editable:'never',cellStyle:{paddingLeft:isRTL==='rtl'?40:null}}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var earningreportsdata=useSelector(function(state){return state.earningreportsdata;});useEffect(function(){if(earningreportsdata.Earningreportss){setData(earningreportsdata.Earningreportss);}},[earningreportsdata.Earningreportss]);var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedRow=_useState4[0],setSelectedRow=_useState4[1];return earningreportsdata.loading?/*#__PURE__*/_jsx(CircularLoading,{}):/*#__PURE__*/_jsx(MaterialTable,{title:t('earning_reports'),columns:columns,style:{direction:isRTL==='rtl'?'rtl':'ltr',borderRadius:\"8px\",boxShadow:\"4px 4px 6px #9E9E9E\"},data:data,onRowClick:function onRowClick(evt,selectedRow){return setSelectedRow(selectedRow.tableData.id);},options:{exportButton:true,rowStyle:function rowStyle(rowData){return{backgroundColor:selectedRow===rowData.tableData.id?'#EEE':'#FFF'};},editable:{backgroundColor:colors.Header_Text,fontSize:\"0.8em\",fontWeight:'bold ',fontFamily:'Lucida Console\", \"Courier New\", monospace'},headerStyle:{position:\"sticky\",top:\"0px\",backgroundColor:colors.Header_Text_back,color:'#fff',fontSize:\"0.8em\",fontWeight:'bold ',fontFamily:'Lucida Console\", \"Courier New\", monospace'}},localization:{toolbar:{searchPlaceholder:t('search'),exportTitle:t('export')},pagination:{labelDisplayedRows:'{from}-{to} '+t('of')+' {count}',firstTooltip:t('first_page_tooltip'),previousTooltip:t('previous_page_tooltip'),nextTooltip:t('next_page_tooltip'),lastTooltip:t('last_page_tooltip')}}});}","map":{"version":3,"names":["React","useState","useEffect","MaterialTable","useSelector","CircularLoading","useTranslation","colors","jsx","_jsx","Earningreports","_useTranslation","t","i18n","isRTL","dir","settings","state","settingsdata","columns","title","field","cellStyle","paddingLeft","render","rowData","parseFloat","tripCost","cancellationFee","toFixed","decimal","editable","convenienceFee","discountAmount","_useState","_useState2","_slicedToArray","data","setData","earningreportsdata","Earningreportss","_useState3","_useState4","selectedRow","setSelectedRow","loading","style","direction","borderRadius","boxShadow","onRowClick","evt","tableData","id","options","exportButton","rowStyle","backgroundColor","Header_Text","fontSize","fontWeight","fontFamily","headerStyle","position","top","Header_Text_back","color","localization","toolbar","searchPlaceholder","exportTitle","pagination","labelDisplayedRows","firstTooltip","previousTooltip","nextTooltip","lastTooltip"],"sources":["/Users/sumitbajaj/Downloads/TAXI-PICK/Sourcecode/web-app/src/views/Earningreports.js"],"sourcesContent":["import React,{ useState,useEffect } from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport { useSelector} from \"react-redux\";\r\nimport CircularLoading from \"../components/CircularLoading\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport {colors} from '../components/Theme/WebTheme';\r\n\r\nexport default function Earningreports() {\r\n  const { t,i18n } = useTranslation();\r\n  const isRTL = i18n.dir();\r\n  \r\n  const settings = useSelector(state => state.settingsdata.settings);\r\n\r\n    const columns =  [\r\n        { title: t('year'),field: 'year', cellStyle:{paddingLeft: isRTL=== 'rtl'?40:null}},\r\n        { title: t('months'), field: 'monthsName', cellStyle:{paddingLeft: isRTL=== 'rtl'?40:null}},\r\n        { title: t('booking_count'), field: 'total_rides', cellStyle:{paddingLeft: isRTL=== 'rtl'?40:null}},\r\n        { title: t('Gross_trip_cost'),  render: rowData => (parseFloat(rowData.tripCost) + parseFloat(rowData.cancellationFee)).toFixed(settings.decimal) , editable:'never', cellStyle:{paddingLeft: isRTL=== 'rtl'?40:null}},\r\n        { title: t('trip_cost_driver_share'), field: 'rideCost', cellStyle:{paddingLeft: isRTL=== 'rtl'?40:null}},\r\n        { title: t('cancellationFee'), field: 'cancellationFee', cellStyle:{paddingLeft: isRTL=== 'rtl'?40:null}},\r\n        { title: t('convenience_fee'), field: 'convenienceFee', cellStyle:{paddingLeft: isRTL=== 'rtl'?40:null}},\r\n        { title: t('Discounts'), field: 'discountAmount', cellStyle:{paddingLeft: isRTL=== 'rtl'?40:null}},\r\n        { title: t('Profit'),  render: rowData => (parseFloat(rowData.convenienceFee) + parseFloat(rowData.cancellationFee) - parseFloat(rowData.discountAmount)).toFixed(settings.decimal) , editable:'never', cellStyle:{paddingLeft: isRTL=== 'rtl'?40:null}},\r\n    ];\r\n\r\n  const [data, setData] = useState([]);\r\n  const earningreportsdata = useSelector(state => state.earningreportsdata);\r\n\r\n  useEffect(()=>{\r\n        if(earningreportsdata.Earningreportss){\r\n            setData(earningreportsdata.Earningreportss);\r\n        }\r\n  },[earningreportsdata.Earningreportss]);\r\n\r\n  const [selectedRow, setSelectedRow] = useState(null);\r\n\r\n  return (\r\n    earningreportsdata.loading? <CircularLoading/>:\r\n    <MaterialTable\r\n      title={t('earning_reports')}\r\n      columns={columns}\r\n      style={{direction:isRTL ==='rtl'?'rtl':'ltr', borderRadius: \"8px\", boxShadow: \"4px 4px 6px #9E9E9E\"}}\r\n      data={data}\r\n      onRowClick={((evt, selectedRow) => setSelectedRow(selectedRow.tableData.id))}\r\n      options={{\r\n        exportButton: true,\r\n        rowStyle: rowData => ({\r\n          backgroundColor: (selectedRow === rowData.tableData.id) ? '#EEE' : '#FFF'\r\n        }),\r\n        editable:{\r\n          backgroundColor: colors.Header_Text,\r\n          fontSize: \"0.8em\",\r\n          fontWeight: 'bold ',\r\n          fontFamily: 'Lucida Console\", \"Courier New\", monospace'\r\n        },\r\n        headerStyle: {\r\n          position: \"sticky\",\r\n          top: \"0px\",\r\n          backgroundColor: colors.Header_Text_back ,\r\n          color: '#fff',\r\n          fontSize: \"0.8em\",\r\n          fontWeight: 'bold ',\r\n          fontFamily: 'Lucida Console\", \"Courier New\", monospace'\r\n        },\r\n      }}\r\n      localization={{\r\n        toolbar: {\r\n          searchPlaceholder: (t('search')),\r\n          exportTitle: (t('export')),\r\n        },\r\n        pagination: {\r\n          labelDisplayedRows: ('{from}-{to} '+ (t('of'))+ ' {count}'),\r\n          firstTooltip: (t('first_page_tooltip')),\r\n          previousTooltip: (t('previous_page_tooltip')),\r\n          nextTooltip: (t('next_page_tooltip')),\r\n          lastTooltip: (t('last_page_tooltip'))\r\n        },\r\n      }}\r\n      \r\n    />\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}